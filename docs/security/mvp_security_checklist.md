# 國考法律題型分析系統 - MVP 安全檢查清單

> **Version**: 1.0  
> **Date**: 2025-08-17  
> **Mode**: MVP 簡化安全檢查  
> **風險等級**: 中低（個人學習工具，無金流與敏感個資）

---

## 1. 身份驗證與授權 (Authentication & Authorization)

### 1.1 用戶認證
- [ ] **密碼安全**: 使用 bcrypt 或 argon2 進行密碼雜湊
- [ ] **密碼策略**: 最小長度 8 字元，包含字母數字
- [ ] **登入限制**: 實施登入嘗試次數限制（5次/15分鐘）
- [ ] **會話管理**: JWT Token 有效期限設定（24小時）
- [ ] **登出機制**: 提供安全登出功能

### 1.2 授權控制
- [ ] **API 權限**: 驗證用戶只能存取自己的資料
- [ ] **檔案權限**: 確保用戶只能下載自己上傳的檔案
- [ ] **管理介面**: 實施管理員角色分離

---

## 2. 輸入驗證與資料處理 (Input Validation)

### 2.1 檔案上傳安全
- [ ] **檔案類型**: 僅允許 PDF 格式上傳
- [ ] **檔案大小**: 限制單一檔案最大 10MB
- [ ] **檔案掃描**: 基礎病毒掃描（ClamAV 或雲端掃描）
- [ ] **檔案存儲**: 上傳檔案隔離存儲，不在 web 目錄
- [ ] **檔案清理**: 設定自動清理機制（30天過期）

### 2.2 API 輸入驗證
- [ ] **資料驗證**: 使用 Pydantic 模型驗證所有 API 輸入
- [ ] **SQL 注入**: 使用 ORM 參數化查詢，避免 SQL 注入
- [ ] **XSS 防護**: 對使用者輸入進行適當編碼
- [ ] **請求限制**: 實施 API 速率限制（100請求/分鐘/用戶）

---

## 3. 金鑰與敏感資料管理 (Secrets Management)

### 3.1 環境變數與配置
- [ ] **環境分離**: 開發、測試、生產環境配置分離
- [ ] **敏感資料**: 資料庫密碼、API Key 使用環境變數
- [ ] **配置檔案**: `.env` 檔案不納入版本控制
- [ ] **金鑰輪替**: 定期更新 API 金鑰與資料庫密碼

### 3.2 第三方服務金鑰
- [ ] **AI API**: OpenAI/Anthropic API Key 安全存儲
- [ ] **雲端服務**: AWS/GCP 憑證最小權限原則
- [ ] **資料庫**: 使用連接池與加密連接

---

## 4. 資料保護 (Data Protection)

### 4.1 資料加密
- [ ] **傳輸加密**: 強制 HTTPS（SSL/TLS）
- [ ] **資料庫加密**: 敏感欄位加密存儲
- [ ] **備份加密**: 資料備份檔案加密

### 4.2 隱私保護
- [ ] **資料最小化**: 只收集必要的用戶資料
- [ ] **資料保留**: 設定資料保留期限政策
- [ ] **用戶權利**: 提供資料匯出與刪除功能
- [ ] **隱私聲明**: 明確隱私政策與使用條款

---

## 5. 系統安全 (System Security)

### 5.1 基礎設施安全
- [ ] **容器安全**: Docker 映像檔安全掃描
- [ ] **依賴管理**: 定期更新套件依賴，掃描漏洞
- [ ] **防火牆**: 只開放必要端口（80, 443, 22）
- [ ] **系統更新**: 定期更新作業系統與安全修補

### 5.2 日誌與監控
- [ ] **安全日誌**: 記錄登入失敗、權限違規等事件
- [ ] **異常監控**: 設定異常流量與錯誤率警報
- [ ] **日誌保護**: 日誌檔案訪問權限控制
- [ ] **審計追蹤**: 關鍵操作可追溯性

---

## 6. 應用程式安全 (Application Security)

### 6.1 前端安全
- [ ] **CSP 政策**: 實施內容安全政策
- [ ] **CORS 設定**: 適當的跨域資源共享設定
- [ ] **敏感資料**: 避免在前端存儲敏感資訊

### 6.2 後端安全
- [ ] **錯誤處理**: 避免敏感資訊洩露在錯誤訊息
- [ ] **健康檢查**: 安全的健康檢查端點
- [ ] **版本資訊**: 隱藏系統版本資訊

---

## 7. AI/ML 特殊安全考量

### 7.1 模型安全
- [ ] **輸入清理**: AI 輸入內容過濾與清理
- [ ] **輸出驗證**: AI 輸出內容審查機制
- [ ] **提示注入**: 防範 Prompt Injection 攻擊
- [ ] **資料洩露**: 確保模型不會洩露訓練資料

### 7.2 向量資料庫安全
- [ ] **存取控制**: 向量資料庫權限管理
- [ ] **查詢限制**: 限制向量搜索查詢頻率
- [ ] **資料隔離**: 不同用戶資料邏輯隔離

---

## 8. 事件回應準備 (Incident Response)

### 8.1 監控與警報
- [ ] **安全事件**: 設定安全事件警報機制
- [ ] **回應程序**: 建立基礎事件回應流程
- [ ] **聯絡資訊**: 維護緊急聯絡人清單

### 8.2 備份與恢復
- [ ] **資料備份**: 自動化每日資料備份
- [ ] **恢復測試**: 定期測試資料恢復程序
- [ ] **業務連續性**: 基礎的災難恢復計畫

---

## 9. 合規性檢查 (Compliance)

### 9.1 法規遵循
- [ ] **個資法**: 符合台灣個人資料保護法
- [ ] **使用條款**: 明確的服務使用條款
- [ ] **免責聲明**: 法律分析結果免責聲明

### 9.2 開源合規
- [ ] **授權檢查**: 確認所有依賴套件授權合規
- [ ] **版權聲明**: 適當的版權與授權聲明

---

## 10. MVP 階段風險接受項目

以下項目在 MVP 階段暫時接受，但需列入後續改善計畫：

### 可接受的風險
- [ ] **進階威脅防護**: 暫不實施 DDoS 防護
- [ ] **滲透測試**: 暫不進行專業滲透測試
- [ ] **SOC 監控**: 暫不建立 24/7 安全監控中心
- [ ] **多因子認證**: 暫不實施 MFA（列入付費功能）

### 風險緩解措施
- 定期安全評估（每季）
- 用戶量達 1000 人時升級安全措施
- 出現安全事件時立即升級

---

## 檢查完成標準

### MVP 上線前必須完成
- [ ] 所有「必須」項目 100% 完成
- [ ] 安全測試通過（基礎滲透測試）
- [ ] 安全風險評估完成並接受殘餘風險
- [ ] 團隊完成安全意識培訓

### 簽核確認
- [ ] 技術負責人審核簽核
- [ ] 產品經理風險接受簽核
- [ ] 安全檢查表留存備查

---

**最後更新**: 2025-08-17  
**下次審核**: MVP 上線後 30 天內