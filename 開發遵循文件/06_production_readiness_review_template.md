# 生產準備就緒審查 (Production Readiness Review - PRR) - [服務/專案名稱]

---

**審查對象 (Review Target):** `[服務/專案名稱] v[版本]`

**審查日期 (Review Date):** `YYYY-MM-DD`

**主要審查人員 (Lead Reviewers):** `[SRE 代表, 開發團隊 Tech Lead, 產品經理]`

**參與者 (Participants):** `[列出所有參與審查的人員]`

**狀態 (Status):** `[例如：計畫中 (Planned), 進行中 (In Progress), 待處理 (Pending Actions), 已批准 (Go), 不批准 (No-Go)]`

**相關文檔 (Related Documents):**
*   SA 文檔: `[連結]`
*   SD 文檔: `[連結]`
*   安全審查: `[連結]`
*   容量規劃文檔: `[連結]`

---

## 審查目標 (Review Goals)

*   確保 `[服務/專案名稱]` 的設計與實現在**可靠性、擴展性、可維護性和可操作性**方面達到了生產環境的要求。
*   主動識別並緩解服務上線後可能面臨的風險。
*   驗證服務的運維團隊（包括開發者和 SRE）已準備好應對生產環境中的各種狀況。

---

## A. 可靠性與可用性 (Reliability & Availability)

### A.1 服務級別目標 (SLOs)
*   `[ ]` **SLI 定義:** 是否為關鍵用戶旅程定義了清晰的服務級別指標 (SLI)？ (e.g., 可用性 SLI: 成功請求數 / 總請求數; 延遲 SLI: 延遲 < X ms 的請求數 / 總請求數)
*   `[ ]` **SLO 目標:** 是否設定了明確、合理且可衡量的服務級別目標 (SLO)？ (e.g., 99.95% 可用性, 99% 的請求延遲 < 200ms)
*   `[ ]` **錯誤預算 (Error Budget):** 是否已計算出錯誤預算，並有明確的策略在預算消耗過快時觸發行動（例如：凍結功能發布）？

### A.2 依賴管理 (Dependency Management)
*   `[ ]` **關鍵依賴識別:** 是否已識別出所有關鍵的運行時依賴（內部/外部服務、資料庫、中間件）？
*   `[ ]` **依賴失敗處理:** 當任何一個關鍵依賴變慢、返回錯誤或完全不可用時，本服務的行為是什麼？是否有降級 (Graceful Degradation)、斷路器 (Circuit Breaker)、重試 (Retry) 或緩存 (Cache) 機制？
*   `[ ]` **SLA 對齊:** 本服務的 SLO 是否考慮了其關鍵依賴的 SLA？

### A.3 容錯與災難恢復 (Fault Tolerance & Disaster Recovery)
*   `[ ]` **單點故障 (SPOF):** 系統架構中是否存在單點故障？
*   `[ ]` **故障場景演練:** 是否進行過故障注入測試 (Chaos Engineering) 或手動演練來驗證系統在常見故障場景（如：單節點/可用區故障、數據庫主備切換、網絡分區）下的行為？
*   `[ ]` **備份與恢復:** 關鍵數據是否有自動備份機制？備份數據是否定期進行恢復測試以驗證其有效性？恢復時間目標 (RTO) 和恢復點目標 (RPO) 是什麼？

## B. 擴展性與性能 (Scalability & Performance)

### B.1 容量規劃 (Capacity Planning)
*   `[ ]` **負載預估:** 是否對預期的生產流量（QPS, 帶寬, 存儲）有清晰的預估？流量模型是怎樣的（峰值、平均值）？
*   `[ ]` **資源配置:** 當前的資源配置（CPU, Memory, Disk）是否能滿足預期負載，並留有適當的緩衝區？
*   `[ ]` **擴展策略:** 服務是否支持水平擴展？自動擴展 (Autoscaling) 的策略和觸發條件是什麼？

### B.2 性能測試 (Performance Testing)
*   `[ ]` **負載測試:** 是否已進行負載測試，以確定系統的性能拐點和最大容量？
*   `[ ]` **壓力測試:** 是否已進行壓力測試，以驗證系統在高負載下的穩定性？
*   `[ ]` **瓶頸分析:** 是否已識別並解決了已知的性能瓶頸？

## C. 可觀測性 (Observability)

### C.1 指標監控 (Metrics)
*   `[ ]` **黃金四指標 (Four Golden Signals):** 是否已監控延遲 (Latency)、流量 (Traffic)、錯誤 (Errors) 和飽和度 (Saturation) 這四個黃金信號？
*   `[ ]` **儀表板 (Dashboards):** 是否有專門的儀表板，能夠直觀地展示服務的健康狀況、SLI/SLO 狀態和關鍵業務指標？
*   `[ ]` **依賴監控:** 是否也監控了所有關鍵依賴的健康狀況？

### C.2 日誌 (Logging)
*   `[ ]` **日誌內容:** 日誌是否包含足夠的上下文信息（如 Trace ID, User ID）以便於問題排查？是否避免記錄敏感數據？
*   `[ ]` **日誌聚合:** 日誌是否被集中收集到一個可查詢的系統中？

### C.3 分散式追蹤 (Tracing)
*   `[ ]` **追蹤覆蓋:** 關鍵請求路徑是否已被分散式追蹤系統覆蓋？

### C.4 告警 (Alerting)
*   `[ ]` **告警信號:** 告警是基於症狀（Symptom-based, e.g., SLO 燃燒率過高）而非原因（Cause-based）？
*   `[ ]` **告警分級:** 告警是否有明確的優先級（e.g., 緊急/頁面通知, 非緊急/工單通知）？
*   `[ ]` **告警有效性:** 告警是否足夠靈敏以捕捉真實問題，同時又避免了過多的噪音（誤報）？

## D. 部署與回滾 (Deployment & Rollback)

### D.1 CI/CD
*   `[ ]` **自動化流程:** 從代碼提交到生產部署是否是完全自動化的？
*   `[ ]` **部署安全:** 部署流程是否有足夠的安全措施（e.g., 需要審批、憑證管理）？

### D.2 發布策略 (Release Strategy)
*   `[ ]` **部署策略:** 採用何種部署策略（e.g., 藍綠部署, 金絲雀發布, 滾動更新）？
*   `[ ]` **漸進式發布:** 是否有能力進行漸進式發布（e.g., 只對 1% 的流量開放新版本）？

### D.3 回滾 (Rollback)
*   `[ ]` **回滾能力:** 是否有安全、快速、可靠的一鍵式回滾機制？
*   `[ ]` **回滾演練:** 是否演練過回滾流程？回滾需要多長時間？
*   `[ ]` **數據庫兼容性:** 部署是否處理了向後不兼容的數據庫 schema 變更？

## E. 應急響應與運維 (Incident Response & Operations)

### E.1 On-call
*   `[ ]` **On-call 輪值:** 是否有明確的 On-call 輪值表和升級路徑？
*   `[ ]` **On-call 培訓:** On-call 工程師是否接受過足夠的培訓？

### E.2 運維手冊 (Runbooks/Playbooks)
*   `[ ]` **告警處理手冊:** 每個緊急告警是否都有對應的 Playbook，指導 On-call 工程師如何診斷和緩解問題？
*   `[ ]` **常規操作手冊:** 常見的運維任務（e.g., 重啟服務、數據庫切換）是否都有標準操作程序 (SOP)？

### E.3 事件管理 (Incident Management)
*   `[ ]` **流程:** 團隊是否熟悉公司的事件管理流程（e.g., 事件指揮官角色、溝通渠道、事後複盤 Postmortem）？

## F. 審查結論與簽署 (Review Conclusion & Sign-off)

*   **已識別的風險 (Identified Risks):**
    *   `[風險 1: 描述, 評級: 高/中/低]`
*   **上線前必須完成的行動項 (Required Action Items before Go-Live):**

| # | 行動項描述 | 負責人 | 預計完成日期 | 狀態 |
|:-:|:---|:---|:---|:---|
| 1 | `[e.g., 為用戶登錄流程添加 SLO 儀表板]` | `[開發者 A]` | `YYYY-MM-DD` | `待辦` |

*   **上線後的建議 (Recommendations for Post-Launch):**
    *   `[建議 1: e.g., 在上線後第一個月內執行一次災難恢復演練]`

### **最終審查決議 (Final Go/No-Go Decision):** `[ Go / No-Go ]`

*   **理由 (Rationale):** `[簡要說明做出此決定的原因。如果是 No-Go，請明確說明必須滿足哪些條件才能重新審查。]`

---
**簽署 (Sign-off):**

*   **SRE 代表:** _______________
*   **開發團隊 Tech Lead:** _______________
*   **產品經理:** _______________ 